<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
 <script type="text/javascript">

     google.charts.load('current', {packages: ['corechart', 'line']});
     google.charts.setOnLoadCallback(drawBasic);
   function drawBasic() {
         var data = new google.visualization.DataTable();
         data.addColumn('date', 'Date');
         data.addColumn('number', 'Price');
         <% stock.forEach(function(st) { %>
            var dt = '<%= st.date %>';
            //var date = new Date(dt);
            //console.log(dt);
             data.addRow([new Date(dt), <%= st.close %>]);
         <% }) %>

         var options = {
           hAxis: {
             title: 'Time'
           },
           vAxis: {
             title: 'Price'
         },
         'width': 1500,
         'heigth' :800
         };

         var chart = new google.visualization.LineChart(document.getElementById('chart_div'));

         chart.draw(data, options);
       }
 </script>
 <div id="chart_div"></div>
